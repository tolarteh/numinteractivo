$(document).ready(function(){function e(e,t){var s=$(e).position(),a=$('<p class="tooltip"></p>').text(t);a.css("top",s.top+10),a.css("left",s.left),""===t&&(a.prepend('<div class="icono correcta"></div>'),a.css("background-color","#DBFFDB")),a.insertAfter(e).fadeIn("slow"),a.click(function(){$(this).fadeOut("slow",function(){$(this).remove()})})}function t(e){var t,s=$(".icono",e),a=$("input:checked",e);s.removeClass("correcta incorrecta"),$(".retroalimentacion",e).hide(),$(".respuesta",e).removeClass("correcta incorrecta"),a.length>0&&(t=a.closest("section.respuesta"),$(".retroalimentacion",t).show(),t.data("correcta")?(t.addClass("correcta"),s.addClass("correcta")):(t.addClass("incorrecta"),s.addClass("incorrecta")))}function s(e){var t=$(".icono",e),s=!0;t.removeClass("correcta incorrecta"),$(".retroalimentacion",e).hide(),$(".respuesta",e).removeClass("correcta incorrecta"),$(".respuesta",e).each(function(){var e=!!$(this).data("correcta"),t=$("input",this).is(":checked");t?($(".retroalimentacion",this).show(),e?$(this).addClass("correcta"):($(this).addClass("incorrecta"),s=!1)):e&&(s=!1)}),s?t.addClass("correcta"):t.addClass("incorrecta")}function a(e){var t=$(".icono",e),s=!0;t.removeClass("correcta incorrecta"),$(".retroalimentacion",e).hide(),$(".respuesta",e).removeClass("correcta incorrecta"),$(".respuesta",e).each(function(){var e=$(this).data("correcta").toLowerCase(),t=$("input",this).val().toLowerCase();""!==t?($(".retroalimentacion",this).show(),t===e?$(this).addClass("correcta"):($(this).addClass("incorrecta"),s=!1)):s=!1}),s?t.addClass("correcta"):t.addClass("incorrecta")}function r(e){var t=$(".icono",e),s=!0;t.removeClass("correcta incorrecta"),$(".retroalimentacion",e).hide(),$(".respuesta",e).removeClass("correcta incorrecta"),$(".respuesta",e).each(function(){var e=$(this).data("correcta").toLowerCase(),t=$("select option:selected",this).html().toLowerCase();""!==t?($(".retroalimentacion",this).show(),t===e?$(this).addClass("correcta"):($(this).addClass("incorrecta"),s=!1)):s=!1}),s?t.addClass("correcta"):t.addClass("incorrecta")}$('input[type="text"].num').keydown(function(t){if(13==t.keyCode){var s=String($(this).data("correcta")).toLowerCase(),a="";return a=s===this.value.toLowerCase()?"":$(this).data("comentario"),e(this,a),!1}}),$("form.pregunta, section.sugerencias").each(function(){var e=$("section.sugerencia",this).length;$("button.sugerencia",this).html("Sugerencias ("+e+")")}),$("button.sugerencia").click(function(){var e=$(this).closest("section.sugerencias");0===e.length&&(e=$(this).closest("form.pregunta").find("section.sugerencias")),$(this).hasClass("proceso")?($("section.sugerencia",e).filter(":hidden").first().show(),$(this).html("Sugerencias ("+$("section.sugerencia",e).filter(":hidden").length+")")):($("section.sugerencia",e).filter(":hidden").first().show(),$(this).html("Sugerencias - "+$("section.sugerencia",e).filter(":hidden").length))}),$("form.pregunta").submit(function(e){return $(this).hasClass("unica")?t(this):$(this).hasClass("multiple")?s(this):$(this).hasClass("rellena")?a(this):$(this).hasClass("relacion")&&r(this),!1})});