num.requirejs.config({shim:{"jquery.tmpl":["jquery"]}}),num.require(["math","jquery","jquery.tmpl"],function(e,a){function t(){return'<table id="alk-config"><tr><td><h1 id="alk-title" style="margin:0"></h1></td><td id="alk-tdselmetodo">Cambiar método: <select id="alk-selmetodo"></select></td><tr><tr><td style="vertical-align: top;"><form id="alk-options-form" onsubmit="return false;" target="the_iframe" autocomplete="on"><table id="alk-options"></table><input type="submit" id="saveData" style="display:none" /></form><table id="alk-extras"><tbody><tr><td>Tipo de error:</td><td><select id="alk-selerror"><option value="rel">Relativo</option><option value="abs" selected>Absoluto</option></select></td></tr><tr><td colspan="2"><button id="alk-reset">Reiniciar</button><button id="alk-graficar">Graficar</button><button id="alk-calcular">Calcular</button></td></tr></tbody></table><iframe id="the_iframe" name="the_iframe" src="javascript:false" style="display:none"></iframe></td><td style="vertical-align: top;" id="alk-tdextra">AYUDA</td></table><p class="num resaltado" id="msg"></p>'}function n(){return'<div id="alk-tabs-container"><ul class="alk-tabs-menu"><li><a href="#tab-ayuda">Ayuda</a></li><li><a href="#tab-simu" class="alk-tab-normal">Simulación</a></li><li><a href="#tab-instrucciones" class="alk-tab-normal">Instrucciones</a></li><li><a href="#tab-close" class="alk-tab-normal alk-tab-close">Cerrar</a></li> </ul>    <div class="tab">        <div id="tab-ayuda" class="tab-content"></div>        <div id="tab-simu" class="tab-content">  </div> <div id="tab-instrucciones" class="tab-content"></div>    </div></div>'}function i(e,a){return e+'<video width="400" height="400" id="alk-simulacion" controls><source src="'+a+'" type="video/mp4">Tu navegador no soporta vídeos nativos. Actualizalo o prueba con otro.</video> '}function o(e){try{var a=new XMLHttpRequest;return a.open("HEAD",e,!1),a.send(),404!=a.status}catch(e){return!1}}function r(e,t){var r="Esta herramienta ayuda a encontrar la raíz de una función utilizando diferentes métodos numéricos. En el lado izquierdo se muestran los campos de entrada del método, incluyendo el tipo de error.<br><br><i>Funciones:</i> recuerde siempre tener solo una variable, puede usar exp(), sin(), cos(), log(), sqrt(), entre otras. Se usa math.js, que tiene muchas <a href= 'http://mathjs.org/docs/reference/functions.html#arithmetic-functions'>funciones permitidas</a>.<br><br><b>Reiniciar:</b> vuelve a poner los valores por defecto de prueba.<br><br><b>Graficar:</b> muestra en la parte inferior un gráfico de la función principal (f(x)), si hay un valor inicial o final ya puesto, la gráfica hará zoom en esa zona.<br><br><b>Calcular:</b> corre el método con los datos de entrada, muestra una tabla con la información en cada iteración y un mensaje de éxito o fracaso.<br><br><i>Recordar datos:</i> la herramienta, cada vez que presiona en calcular guarda sus datos de entrada en la función de autocompletado de su navegador. Dando doble clic en un campo o comenzando a escribir verá sus datos anteriores, así podrá autocompletar sin necesidad de escribir de nuevo los mismos datos.<br><br><i>Simulación:</i> comprenda gráficamente cómo se comporta el método con unos datos de entrada ya establecidos.<br><br>Si obtiene un error del tipo <i>Error: Undefined symbol</i> es porque hay algo mal escrito o invalido en una de las funciones de entrada.";a("#alk-tdextra").html(n()),a("#tab-ayuda").html(e.metodo),a("#tab-instrucciones").html(r);var l="http://www1.eafit.edu.co/cursonumerico/interactivo/media/",s=l+t+".mp4";o(s)?a("#tab-simu").html(i(e.simulacion,s)):a("#tab-simu").html("¡Ups! Aún no hay una simulación para éste método.")}function l(e){for(var t=0;t<e.length;t++){var n="";e[t].graph===!0&&(v=e[t].id);var i={};if(e[t].validate){switch(e[t].validate){case"int+":i={messsage:"Solo números enteros positivos.",pattern:"[+]?([0-9]+)"};break;case"float+":i={messsage:"Solo números reales positivos.",pattern:"[+]?([0-9]+\\.?[0-9]*)"};break;case"float":i={messsage:"Solo números reales",pattern:"[-+]?([0-9]+\\.?[0-9]*)"};break;case"int!=0":i={messsage:"Solo enteros diferentes de cero.",pattern:"[-+]?([1-9]+[0-9]*)"}}i.messsage&&(n+=" oninvalid=\"this.setCustomValidity('"+i.messsage+"')\" oninput=\"setCustomValidity('')\" "),i.pattern&&(n+=' pattern="'+i.pattern+'" ')}var o='<tr><td>${name}</td><td><input id="${id}" name="alk-${id}" title="${title}" type="text" value="${value}" '+n+" required></td></tr>",r=a.template(o);a.tmpl(r,e[t]).appendTo("#alk-options")}}function s(e){if(void 0!==a("#num-raices").attr("data-lista")&&"true"==a("#num-raices").attr("data-lista"))for(var t=a.template('<option value="${file}">${name}</option>'),n=a.template('<option value="${file}" selected="selected">${name}</option>'),i=0;i<h.length;i++)h[i].id==e?a.tmpl(n,h[i]).appendTo("#alk-selmetodo"):a.tmpl(t,h[i]).appendTo("#alk-selmetodo");else a("#alk-tdselmetodo").html("")}function d(t){for(var n=[],i=0;i<t.length;i++){var o=a("#"+t[i].id).val();if("func"==t[i].type){o=e.eval("f(x)="+o);try{o(1)}catch(e){c([e])}}else"num"==t[i].type&&(o=Number(o));n.push(o)}return n}function c(e){for(var t=0;t<e.length;t++)a("#msg").text(e[t])}function u(e){try{var a=e.toString();return a.indexOf("e")>0&&(a=a.replace("e","x10<sup>")+"</sup>"),a}catch(a){return e}}function m(e,t){a("#num-raices").append('<table class="num" id="resultado"><thead id="resTitles"><tr></tr></thead><tbody></tbody></table>');for(var n=0;n<t.length;n++)a("#resultado thead tr").append("<td>"+t[n].name+"</td>");for(n=0;n<e.length;n++){for(var i=a("<tr></tr>"),o=0;o<t.length;o++){var r;if(t[o].exp===!0&&""!=e[n][o]){var l=t[o].dec>0?t[o].dec:void 0;r=e[n][o].toExponential(l)}else r=e[n][o],t[o].dec>0&&""!==e[n][o]&&(r=+(Math.round(e[n][o]+"e+"+t[o].dec)+"e-"+t[o].dec));r=u(r),i.append("<td>"+r+"</td>")}a("#resultado tbody").append(i)}}function p(){return a("#num-raices").attr("data-metodo")?a("#num-raices").data("metodo"):h[0].id}function f(){a("#msg").text(""),a("#resultado").remove(),m([],[]);var t=a("#"+v).val(),n=e.eval("f(x)="+t);try{n(1)}catch(e){return c([e]),!1}var i=functionPlot({target:"#resultado",grid:!0,data:[{fn:t,sampler:"builtIn",graphType:"polyline",title:t}]}),o="",r="";a("#xi").length&&(o=Number(a("#xi").val())),a("#xs").length&&(r=Number(a("#xs").val()));var l,s;if(""!=o&&""!=r){var d=Math.min(o,r);l=[o,r],s=[Math.abs(d),-Math.abs(d)]}else""!=o?(l=[o-1,o+1],s=[Math.abs(o),-Math.abs(o)]):""!=r&&(l=[r-1,r+1],s=[Math.abs(r),-Math.abs(r)]);(l||s)&&i.programmaticZoom(l,s)}function b(n){a("#num-raices").html(t()),s(n);for(var i=!1,o=0;o<h.length;o++)h[o].id==n&&(i=h[o]);i||(console.error("Metodo solicitado no existe, se procede a cargar el primero de la lista."),i=h[0]),num.require(["raices/"+i.file],function(){l(window[i.file].getEntrada()),a("#alk-title").text(i.name),a("#alk-calcular").unbind(),a("#alk-calcular").click(function(){if(!a("#alk-options-form").get(0).checkValidity())return a("#saveData").click(),!1;a("#resultado").remove();var t=d(window[i.file].getEntrada());t.push("rel"===a("#alk-selerror").val());var n=window[i.file].execute.apply({math:e},t);m(n.data,window[i.file].getResultType()),c(n.message),MathJax.Hub.Queue(["Typeset",MathJax.Hub]),a("#saveData").click()}),r(window[i.file].getAyuda(),i.file),a(".alk-tab-normal").css("display","none"),a(".alk-tabs-menu a").unbind(),a(".alk-tabs-menu a").click(function(e){a(".alk-tab-normal").css("display","initial"),e.preventDefault(),a(this).hasClass("alk-tab-close")&&a(".alk-tab-normal").css("display","none"),a(this).parent().addClass("current"),a(this).parent().siblings().removeClass("current");var t=a(this).attr("href");a(".tab-content").not(t).css("display","none"),a(t).fadeIn()}),MathJax.Hub.Queue(["Typeset",MathJax.Hub])}),a("#alk-reset").unbind(),a("#alk-reset").on("click",function(){b(n)}),a("#alk-selmetodo").unbind(),a("#alk-selmetodo").on("change",function(){b(a("#alk-selmetodo").val())}),a("#alk-graficar").unbind(),a("#alk-graficar").on("click",function(){f()})}num.require(["d3"],function(){window.d3=d3,num.require(["function-plot"],function(e){window.functionPlot=e})});var v,h=[{name:"Bisección",file:"biseccion",id:"biseccion"},{name:"Regla Falsa",file:"reglafalsa",id:"reglafalsa"},{name:"Punto Fijo",file:"puntofijo",id:"puntofijo"},{name:"Newton",file:"newton",id:"newton"},{name:"Secante",file:"secante",id:"secante"}];a(function(){if(!a("#num-raices").length)throw"No se encuentra el elemento con id: 'metodo'. Incluya un div con ese ID en el cuerpo de su sitio.";b(p())})});