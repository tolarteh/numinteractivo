!function(e){var n=function(e,n,a,i){var s,l,r,t,c="",p=[],u=4*(n.length-1),d=[],m=[],$=[];splinePrint("Dado que en la tabla se tienen $"+n.length+"$ puntos, entonces el polinomio cúbico, $p(x)$, definido por tramos, tiene la forma:"),splinePrint("\\[p(x) = \\begin{cases} ");for(var h=0;h<n.length-1;h++)splinePrint("a_{"+(h+1)+"}x^{3} + b_{"+(h+1)+"}x^{3} + c_{"+(h+1)+"}x + d_{"+(h+1)+"} && "+n[h]+"\\leq x \\leq"+n[h+1]+"\\\\");splinePrint("\\end{cases}\\]"),splinePrint("Para determinar el valor de cada polinomio es necesario conocer el valor de todos los coeficientes de los polinomios asociados, para ello se define un sistema de ecuaciones lineales. Dado que son $"+4*(n.length-1)+"$ variables, se necesitan $"+4*(n.length-1)+"$ ecuaciones."),splinePrint("En la construcción del sistema de ecuaciones lineales se tiene en cuenta que el polinomio resultante debe: pasar por los puntos, ser continuo y en los puntos de conexión preservar el comportamiento (suavidad y concavidad). En total se generan $"+4*(n.length-1)+"$ ecuaciones."),splinePrint('Las siguientes ecuaciones hacen cumplir el requisito de "pasa por" y continuidad. Los coeficientes de las ecuaciones cumplen con una ley de formación que se obtiene de la primera componente de cada punto: los de $a_i$ son el cubo de la primera componente, los de $b_i$ son el cuadrado de la primera componente, los de $c_i$ son la primera componente y los de $d_i$ son unos (1). Finalmente cada ecuación se iguala a la segunda componente. Las siguientes $'+2*(n.length-1)+"$ ecuaciones se obtienen con estos criterios.");for(var h=0,v=0;h<n.length-1;h++,v+=2){splinePrint(v+1+". El polinomio resultante pasa por $("+n[h]+","+a[h]+")$, por lo tanto:"),splinePrint("\\begin{eqnarray}"),splinePrint("a_{"+(h+1)+"}*("+n[h]+")^3 + b_{"+(h+1)+"}*("+n[h]+")^2 + c_{"+(h+1)+"}*("+n[h]+") & = & "+a[h]+"\\\\");var P=Math.pow(n[h],3),g=Math.pow(n[h],2),b=n[h];0!=n[h]?(1==n[h]&&(P=g=b=""),splinePrint(P+"a_{"+(h+1)+"} + "+g+"b_{"+(h+1)+"} + "+b+"c_{"+(h+1)+"} & = & "+a[h]+"\\\\")):splinePrint("c_{"+(h+1)+"} & = & "+a[h]+"\\\\"),splinePrint(" \\end{eqnarray}"),splinePrint(v+2+". El polinomio resultante pasa por $("+n[h+1]+","+a[h+1]+")$, por lo tanto:"),splinePrint("\\begin{eqnarray}"),splinePrint("a_{"+(h+1)+"}*("+n[h+1]+")^3 + b_{"+(h+1)+"}*("+n[h+1]+")^2 + c_{"+(h+1)+"}*("+n[h+1]+") & = & "+a[h+1]+"\\\\"),P=Math.pow(n[h+1],3),g=Math.pow(n[h+1],2),b=n[h+1],0!=n[h+1]?(1==n[h+1]&&(P=g=b=""),splinePrint(P+"a_{"+(h+1)+"} + "+g+"b_{"+(h+1)+"} + "+b+"c_{"+(h+1)+"} & = & "+a[h+1]+"\\\\")):splinePrint("c_{"+(h+1)+"} & = & "+a[h]+"\\\\"),splinePrint(" \\end{eqnarray}")}splinePrint("<br>Dado que en los puntos de conexión el polinomio resultante debe preservar el comportamiento (suavidad y concavidad). Para ello se determina el esquema de la derivada la función definida por tramos."),splinePrint("\\[p'(x) = \\begin{cases} ");for(var h=0;h<n.length-1;h++)splinePrint("3a_"+(h+1)+"x^2 + 2b_"+(h+1)+"x + c_1 && "+n[h]+"\\leq x \\leq"+n[h+1]+"\\\\");splinePrint("\\end{cases}\\]");for(var h=0;h<n.length-1;h++){$=[];for(var v=0;v<u;v++)$.push(0);s=Math.pow(n[h],2),l=Math.pow(n[h+1],2),r=Math.pow(n[h],3),t=Math.pow(n[h+1],3),$[4*h]=r,$[4*h+1]=s,$[4*h+2]=n[h],$[4*h+3]=1,d.push($),m.push(a[h]),$=[];for(var v=0;v<u;v++)$.push(0);$[4*h]=t,$[4*h+1]=l,$[4*h+2]=n[h+1],$[4*h+3]=1,d.push($),m.push(a[h+1])}console.log("Solución fase 2:"),splinePrint("Las siguientes ecuaciones hacen cumplir el requisito de que la derivada exista en los puntos de conexión. Para obtener cada ecuación, el coeficiente de $a_i$ es $3$ veces el $cuadrado$ de la primera componente, mientras que el cofiente de $b_i$ es $2$ veces la primera componente. Las siguientes tres ecuaciones surgen de los tres puntos de empalme entre los intervalos.");for(var h=0;h<n.length-2;h++){$=[];for(var v=0;v<u;v++)$.push(0);r=3*Math.pow(n[h+1],2),s=2*n[h+1],splinePrint("En $x="+n[h+1]+"$ hay un punto de conexión. Por lo tanto, la ecuación resultante es: "),splinePrint("$$"+r+"a_{"+(h+1)+"} + "+s+"b_{"+(h+1)+"} + c_{"+(h+1)+"} = "+r+"a_{"+(h+2)+"} + "+s+"b_{"+(h+2)+"} + c_{"+(h+2)+"}$$"),console.warn(r+"a"+(h+1)+" + "+s+"b"+(h+1)+" + c"+(h+1)+" = "+r+"a"+(h+2)+" + "+s+"b"+(h+2)+" + c"+(h+2)),$[4*h]=r,$[4*h+1]=s,$[4*h+2]=1,$[4*(h+1)]=-1*r,$[4*(h+1)+1]=-1*s,$[4*(h+1)+2]=-1,d.push($),m.push(0)}splinePrint("En los puntos de conexión el polinomio resultante debe preservar el comportamiento (suavidad y concavidad). Para ello se calcula la segunda derivada del polinomio y así se garantiza que se preserve el comportamiento de la concavidad en los puntos de empalme."),splinePrint("\\[p''(x) = \\begin{cases} ");for(var h=0;h<n.length-1;h++)splinePrint("6a_"+(h+1)+"x + 2b_"+(h+1)+" && "+n[h]+"\\leq x \\leq"+n[h+1]+"\\\\");splinePrint("\\end{cases}\\]"),splinePrint("Las siguientes ecuaciones hacen cumplir el requisito de que la segunda derivada exista en los puntos de conexión. Para obtener cada ecuación, el coeficiente de $a_i$ es $2$ veces la primera componente, mientras que el cofiente de $b_i$ es $2$. Las siguientes tres ecuaciones surgen de los tres puntos de empalme entre los intervalos.");for(var h=0;h<n.length;h++){$=[];for(var v=0;v<u;v++)$.push(0);r=6*n[h],h>0&&h<n.length-1&&(splinePrint("En $x="+n[h]+"$ hay un punto de conexión. Por lo tanto, la ecuación resultante es: "),splinePrint("$$"+r+"a_{"+h+"} + 2b_{"+h+"} = "+r+"a_{"+(h+1)+"} + 2b_{"+(h+1)+"}$$"),console.warn(r+"a"+h+" + 2b"+h+" = "+r+"a"+(h+1)+" + 2b"+(h+1)),$[4*(h-1)]=r,$[4*(h-1)+1]=2,$[4*h]=-1*r,$[4*h+1]=-2,d.push($),m.push(0))}splinePrint("Falta una condición para completar el sistema de ecuaciones. Existen varias opciones que dependen del conocimiento del contexto del problema que se tenga. Por ejemplo se puede determinar el conocimiento de la primera o de la segunda derivada en uno de los extremos del intervalo de interés. En este caso tenemos las ecuaciones:");for(var h=0;h<n.length;h++){$=[];for(var v=0;v<u;v++)$.push(0);r=6*n[h],h>0&&h<n.length-1||(0==h?(splinePrint("En $x="+n[h]+"$ se supone que la segunda derivada es cero. Por lo tanto, la ecuación resultante es:"),splinePrint("$$"+r+"a_{"+(h+1)+"} + 2b_{"+(h+1)+"} = 0$$"),console.warn(r+"a"+(h+1)+" + 2b"+(h+1)+" = 0"),$[h]=r,$[h+1]=2,d.push($),m.push(0)):(splinePrint("En $x="+n[h]+"$ se supone que la segunda derivada es cero. Por lo tanto, la ecuación resultante es:"),splinePrint("$$"+r+"a_{"+h+"} + 2b_{"+h+"} = 0$$"),console.warn(r+"a"+h+" + 2b"+h+" = 0"),$[4*(h-1)]=r,$[4*(h-1)+1]=2,d.push($),m.push(0)))}console.log(d),console.log(m);var _=Sistema(d.slice(),m.slice());_.eliminacionGaussianaPivoteo();for(var f=[],v=0;v<_.numeroColumna.length;v++){for(var x=_.numeroColumna.length-1,q="",w=!0,h=0;h<_.answer.length;h++)if(_.numeroColumna[x--]-1==v){var y=o(_.answer[h],3);0!=y&&(q+=y)}f.push(q)}splinePrint("Al resolver el sistema de ecuaciones, el polinomio resultante es:"),splinePrintSolucion("<h3>Resultado:</h3>"),splinePrintSolucion("\\[p(x) = \\begin{cases} ");for(var h=0,v=0;h<n.length-1;h++,v+=4){var q="",M="",w=!0;""!=f[v]&&(q+=f[v]+"x^{3}",w=!1),""!=f[v+1]&&(M=f[v+1]<0?" - ":" + ",M=w&&f[v+1]>0?"":M,q+=M+Math.abs(f[v+1])+"x^{2}",w=!1),""!=f[v+2]&&(M=f[v+2]<0?" - ":" + ",M=w&&f[v+2]>0?"":M,q+=M+Math.abs(f[v+2])+"x",w=!1),""!=f[v+3]&&(M=f[v+3]<0?" - ":" + ",M=w&&f[v+3]>0?"":M,q+=M+Math.abs(f[v+3])+"",w=!1),splinePrintSolucion(q+" && "+n[h]+"\\leq x \\leq"+n[h+1]+"\\\\")}return splinePrintSolucion("\\end{cases}\\]"),printSolucionButton(),{data:p,message:c}},a=function(e){if(e=+e,!e)throw new Error("División por cero");return e},o=function(e,n){var o=Math.pow(10,n||0);return Math.round(e*o)/a(o)};e.splineCubico=n}(window);