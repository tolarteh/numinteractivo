num.require(["jquery","Sistema","print"],function(t){function e(e){if(!t("#matrix-"+e).length)return!1;for(var a=t("#matrix-"+e).attr("data-cols"),n=t("#matrix-"+e).attr("data-rows"),r=[],i=0;i<n;i++)for(var o=0;o<a;o++)r.push(Number(t("#matr-"+e+"-"+i+"-"+o).val()));return r}function a(t,e,a,n){var r='<div class="matrix" id="matrix-'+t+'" data-cols="'+e+'" data-rows="'+a+'">',i="";5!=e||n||(n=[[1,3,4,5,7],[4.31,1.5,3.2,2.6,1.8]]);for(var o=0;o<a;o++){for(var d=0;d<e;d++)n&&(i=0==t?n[t][d]:n[t][d]),r+='<input size="6" id="matr-'+t+"-"+o+"-"+d+'" name="matr['+t+"]["+o+"]["+d+']" value="'+i+'"/>';r+="<br/>"}return r}function n(){var t='<div class="inputs" id="inputs">';return t+='<table><tr><td>$n = $ </td><td><input size="2" class="matr-config" id="matr-num" name="matr-num" value="5"/></td><td><button id="save" title="Guardar Xn y f(Xn)">üíæ</button><button id="load" title="Escribir Xn y f(Xn) guardados">‚úèÔ∏è</button></td></tr></table>',t+='</div><div id="matr-container"></div><br>M√©todo: <select id="alk-selmetodo"></select><input type="button" name="submit" value="Resolver" id="submit"><br><br><div id="alk-desc"></div><div id="results"></div><div id="solution"></div>'}function r(e){t("#matr-container").html("");var n=t("#matr-num").val(),r="<table><tr><td>$x_n =$<br> $f(x_n) =$</td><td>"+a(0,n,1,e)+a(1,n,1,e)+"</td></tr></table>";r+='<div id="alk-p-input">Evaluar en $p($<input id="alk-punto" name="alk-punto" title="Punto a evaluar" value="2.5" oninvalid="this.setCustomValidity(\'Solo se admite digitos y un punto.\')" oninput="setCustomValidity(\'\')" pattern="[+]?([0-9]+\\.?[0-9]*)" type="text" size="3">$)$ <i>(Opcional)</i></div>',t("#matr-container").append(r),MathJax.Hub.Queue(["Typeset",MathJax.Hub])}function i(){return t("#num-interpolacion").attr("data-metodo")?t("#num-interpolacion").attr("data-metodo"):u[0].id}function o(e){if(void 0!==t("#num-interpolacion").attr("data-lista")&&"true"==t("#num-interpolacion").attr("data-lista"))for(var a=0;a<u.length;a++)u[a].id==e?t('<option value="'+u[a].file+'" selected="selected">'+u[a].name+"</option>").appendTo("#alk-selmetodo"):t('<option value="'+u[a].file+'">'+u[a].name+"</option>").appendTo("#alk-selmetodo");else t("#alk-tdselmetodo").html("");s()}function d(){for(var e,a=t("#alk-selmetodo").val(),n=0;n<u.length;n++)u[n].id==a&&(e=u[n]);return e||(console.error("Metodo solicitado no existe, se procede a cargar el primero de la lista."),e=u[0]),e}function l(){}function s(){var e=d();e.useP?t("#alk-p-input").show():t("#alk-p-input").hide()}var u=[{name:"Newton con diferencias divididas",file:"newton",id:"newton",desc:"",useP:!0},{name:"Lagrange",file:"lagrange",id:"lagrange",desc:"",useP:!0},{name:"Neville",file:"neville",id:"neville",desc:"",useP:!0},{name:"Spline Lineal",file:"splineLineal",id:"splineLineal",desc:"",useP:!1},{name:"Spline Cuadratico",file:"splineCuadrado",id:"splineCuadrado",desc:"",useP:!1},{name:"Spline Cubico",file:"splineCubico",id:"splineCubico",desc:"",useP:!1}],p=function(t,e){var a=Math.pow(10,e||0);return Math.round(t*a)/c(a)},c=function(t){if(t=+t,!t)throw new Error("Divisi√≥n por cero");return t},m=function(a){if(0!=a.length){var n=["Primera","Segunda","Tercera","Cuarta","Quinta","Sexta","S√©ptima","Octava","Novena","D√©cima"];t("#results").append('<table class="num" id="resultado"><thead id="resTitles"><tr></tr></thead><tbody></tbody></table>'),t("#resultado thead tr").append("<td>$n$</td>"),t("#resultado thead tr").append("<td>$x_n$</td>");for(var r=0;r<a[0][0].length;r++)r<n.length?t("#resultado thead tr").append("<td>$"+n[r]+"$</td>"):t("#resultado thead tr").append("<td>$"+(r+1)+".¬™$</td>");var i=e(0);for(r=0;r<a.length;r++){var o=t("<tr></tr>");o.append("<td>"+(r+1)+"</td>"),o.append("<td>"+i[r]+"</td>");for(var d=0;d<a[r][0].length;d++)""!=a[r][0][d]?o.append("<td>"+p(a[r][0][d],4)+"</td>"):o.append("<td>"+a[r][0][d]+"</td>");t("#resultado tbody").append(o)}}},v=function(e,a){if(0!=e.length){var n=["A","B","C","D"];t("#results").append('<table class="num" id="resultado"><thead id="resTitles"><tr></tr></thead><tbody></tbody></table>');var r=0,i=0;if(e.length%3==0)r=e.length/3,i=3;else{if(e.length%4!=0)throw new Error("Se esperaba una matriz n*3 x n*3 o n*4 x n*4");r=e.length/4,i=4}for(var o=0;o<r;o++)for(var d=0;d<i;d++)t("#resultado thead tr").append("<td>$"+n[d]+(o+1)+"$</td>");t("#resultado thead tr").append("<td>$Ind$</td>");for(o=0;o<e.length;o++){for(var l=t("<tr></tr>"),d=0;d<e[o].length;d++)""!=e[o][d]?l.append("<td>"+p(e[o][d],4)+"</td>"):l.append("<td>"+e[o][d]+"</td>");l.append("<td>"+a[o]+"</td>"),t("#resultado tbody").append(l)}}};t(document).on("change",".matr-config",function(){r()}),t(document).on("click","#save",function(){if(!confirm("¬øSeguro deseas guardar el A y b actuales?\n\nSi ya has guardado otros datos, ser√°n sobreescritos y no se podr√°n recuperar.\nRecuerda que los datos se guardan en el navegador que estas usando actualmente."))return!1;var t=[];t.push(e(0));var a=e(1);t.push(a),localStorage.setItem("matriz4",JSON.stringify(t))}),t(document).on("click","#load",function(){if(!localStorage.matriz4)return alert("No tienes datos guardados para escribir. Primero guarda A y b."),!1;if(!confirm("¬øSeguro deseas escribir el A y b que ten√≠as guardado? El A y b actuales ser√°n eliminados."))return!1;var e=JSON.parse(localStorage.getItem("matriz4"));t("#matr-num").val(e[0].length),r(e)}),"undefined"==typeof Storage||(t("#save").hide(),t("#load").hide()),t(document).on("change","#alk-selmetodo",function(){l(),s()}),t(document).on("click","#showSolution",function(){t("#solution").show()}),l(),t(document).on("click","#submit",function(){var a=d(),n=e(0),r=e(1),i=t("#matr-num").val(),o=t("#alk-punto").val();t("#solution").hide(),t("#results").html(""),t("#solution").html(""),t("#solution").append("<h2>"+a.name+"</h2>");num.require(["funciones","print","printSpline","lineales/eliminacionGaussianaPivoteo","interpolacion/"+a.file],function(){for(var e in Sistema.prototype)e.startsWith("print")&&(Sistema.prototype[e]=function(){}),Sistema.prototype.renderTableSpline=v;try{var d=window[a.id](i,n,r,o);m(d.data),t("#results").append("<div>"+d.message+"</div>")}catch(e){console.log(e),"Error: Divisi√≥n por cero"==e&&(t("#results").append("<p style='color:red'><b>Se ha encontrado una divisi√≥n por cero.</b><br>Por favor, revise los datos de entrada y que el tipo de m√©todo que est√° usando sea el adecuado.</p>"),t("#solution").show())}MathJax.Hub.Queue(["Typeset",MathJax.Hub])})}),t("#num-interpolacion").append(n()),o(i()),r()});